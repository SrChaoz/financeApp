@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* CRITICAL: True Indigo Primary - HSL for precision */
    --primary: 239 84% 67%;
    --primary-foreground: 224 76% 97%;

    /* Core Colors */
    --background: 240 10% 3.9%;
    /* zinc-950 */
    --surface: 240 5.9% 10%;
    /* zinc-900 */
    --border: 240 3.7% 15.9%;
    /* zinc-800 */
    --foreground: 0 0% 98%;
    /* zinc-50 */
    --muted: 240 3.8% 46.1%;
    /* zinc-400 */

    /* Semantic Colors */
    --income: 142 76% 36%;
    /* emerald-600 */
    --expense: 347 77% 50%;
    /* rose-500 */
    --warning: 38 92% 50%;
    /* amber-500 */
  }

  body {
    @apply antialiased overflow-x-hidden selection:bg-primary/30 selection:text-white;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background-color: hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
    @apply rounded-full hover:bg-zinc-700 transition-colors;
  }
}

@layer utilities {

  /* Premium Card - Solid, with subtle borders for depth */
  .card-premium {
    background-color: hsl(var(--surface));
    border: 1px solid hsl(var(--border));
    @apply rounded-xl shadow-lg transition-all duration-300;
  }

  .card-hover {
    @apply hover:border-primary/30 hover:shadow-glow-primary/20 hover:-translate-y-0.5;
  }

  /* Legacy glass effect - deprecated, use card-premium instead */
  .glass-effect {
    @apply card-premium;
  }

  /* Typography Utilities */
  .text-h1 {
    @apply text-2xl md:text-3xl font-bold text-white tracking-tight;
  }

  .text-h2 {
    @apply text-xl md:text-2xl font-semibold text-white tracking-tight;
  }

  .text-sub {
    color: hsl(var(--muted));
    @apply text-sm md:text-base;
  }

  /* Mobile Optimizations (PWA First) */
  .touch-target {
    @apply min-w-[44px] min-h-[44px] flex items-center justify-center active:scale-95 transition-transform;
  }

  .mobile-container {
    @apply px-4 py-4 md:px-8 md:py-8 max-w-7xl mx-auto;
  }

  /* Financial Indicators */
  .badge-income {
    background-color: hsl(var(--income) / 0.1);
    color: hsl(var(--income));
    border: 1px solid hsl(var(--income) / 0.2);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-expense {
    background-color: hsl(var(--expense) / 0.1);
    color: hsl(var(--expense));
    border: 1px solid hsl(var(--expense) / 0.2);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }
}

/* Global Transition for Route Changes */
.page-transition-enter {
  opacity: 0;
  transform: translateY(10px);
}

.page-transition-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 300ms, transform 300ms cubic-bezier(0.16, 1, 0.3, 1);
}

.page-transition-exit {
  opacity: 1;
}

.page-transition-exit-active {
  opacity: 0;
  transition: opacity 200ms ease-in;
}